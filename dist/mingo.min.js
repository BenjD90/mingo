//! mingo.js 2.5.1
//! Copyright (c) 2020 Francis Asante
//! MIT
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.mingo={})}(this,function(n){"use strict";function t(n,t){n||k(t)}function r(n){switch(i(n)){case Wr:return n.map(r);case Xr:return w(n,r);default:return n}}function e(n){switch(i(n)){case Wr:return R([],n);case Xr:return Object.assign({},n);default:return n}}function u(n){return null===n?"Null":void 0===n?"Undefined":n.constructor.name}function i(n){return u(n).toLowerCase()}function o(n){return i(n)===Yr}function a(n){return i(n)===Hr}function s(n){return i(n)===Jr}function f(n){return!!n&&n.constructor===Object}function c(n){return n===Object(n)}function l(n){return i(n)===Qr}function v(n){return i(n)===Kr}function h(n){return i(n)===Zr}function p(n){return null===n||void 0===n}function d(n){return null===n}function g(n){return void 0===n}function $(n,t){return n.includes(t)}function m(n,t){return!$(n,t)}function y(n){return!!n}function b(n){return p(n)||se(n)&&0===n.length||f(n)&&0===fe(n).length||!n}function _(n){return se(n)?n:[n]}function x(n,t){return n.hasOwnProperty(t)}function k(n){throw new Error(n)}function O(n,t,r){if(t=t.bind(r),se(n))for(var e=0,u=n.length;e<u&&t(n[e],e,n)!==!1;e++);else for(var i in n)if(n.hasOwnProperty(i)&&t(n[i],i,n)===!1)break}function w(n,t,r){t=t.bind(r);for(var e={},u=fe(n),i=0;i<u.length;i++){var o=u[i];e[o]=t(n[o],o)}return e}function M(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n===oe)return t;if(t===oe)return n;var e=[n,t];if(!e.every(f)&&!e.every(se))throw Error("mismatched types. must both be array or object");if(r.flatten=r.flatten||!1,se(n))if(r.flatten){for(var u=0,i=0;u<n.length&&i<t.length;)n[u]=M(n[u++],t[i++],r);for(;i<t.length;)n.push(t[i++])}else ae.apply(n,t);else Object.keys(t).forEach(function(e){n.hasOwnProperty(e)?n[e]=M(n[e],t[e],r):n[e]=t[e]});return n}function j(n,t,r){return se(n)?n.reduce(t,r):(O(n,function(e,u){return r=t(r,e,u,n)}),r)}function A(n,t){var r=t.map(C);return n.filter(function(n){return $(r,C(n))})}function N(n,t){return R(R([],n),t.filter(m.bind(null,n)))}function E(n){function t(n,r){for(var u=0,i=n.length;u<i;u++)se(n[u])&&(r>0||r<0)?t(n[u],Math.max(-1,r-1)):e.push(n[u])}var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,e=[];return t(n,r),e}function S(n,t){if(t<1)return n;for(;t--&&se(n)&&1===n.length;)n=n[0];return n}function I(n,t){for(var r=[n],e=[t];r.length>0;)if(n=r.pop(),t=e.pop(),n!==t){var u=i(n);if(u!==i(t)||u===Zr)return!1;switch(u){case Wr:if(n.length!==t.length)return!1;R(r,n),R(e,t);break;case Xr:var o=fe(n),a=fe(t);if(o.length!==a.length)return!1;o.sort(),a.sort();for(var s=0,f=o.length;s<f;s++){var c=o[s];if(c!==a[s])return!1;r.push(n[c]),e.push(t[c])}break;default:if(T(n)!==T(t))return!1}}return 0===r.length}function P(n){var t={},r=[];return O(n,function(n){var e=C(n);x(t,e)||(r.push(n),t[e]=0)}),r}function T(n){var t=i(n);switch(t){case Yr:case Jr:case Kr:return n.toString();case Hr:return JSON.stringify(n);case Qr:return n.toISOString();case zr:case Br:return t;case Wr:return"["+n.map(T)+"]";default:var r=t===Xr?"":""+u(n),e=fe(n);return e.sort(),r+"{"+e.map(function(t){return T(t)+":"+T(n[t])})+"}"}}function C(n){if(p(n))return null;for(var t=0,r=T(n),e=r.length;e;)t=(t<<5)-t^r.charCodeAt(--e);return t>>>0}function q(n,t){return n<t?-1:n>t?1:0}function F(n,t,r){var e=[],u=[],i={};if(r=r||q,b(n))return n;for(var o=0;o<n.length;o++){var a=n[o],s=t(a,o);p(s)?u.push(a):(i[s]?i[s].push(a):i[s]=[a],e.push(s))}e.sort(r);for(var f=0;f<e.length;f++)R(u,i[e[f]]);return u}function L(n,t){var r={keys:[],groups:[]},e={};return O(n,function(n){var u=t(n),i=C(u),o=-1;void 0===e[i]&&(o=r.keys.length,e[i]=o,r.keys.push(u),r.groups.push([])),o=e[i],r.groups[o].push(n)}),r}function R(n,t){return ae.apply(n,t),n}function D(n,t){for(var r=0,e=n.length-1;r<=e;){var u=Math.round(r+(e-r)/2);if(t<n[u])e=u-1;else{if(!(t>n[u]))return u;r=u+1}}return r}function U(n){var t=this;return function(r){return function(){for(var e=arguments.length,u=Array(e),i=0;i<e;i++)u[i]=arguments[i];var o=C(u);return x(r,o)||(r[o]=n.apply(t,u)),r[o]}}({})}function z(n,t){return c(n)?n[t]:void 0}function B(n,t){function r(n,t){for(var e=n,i=0;i<t.length;i++){var o=t[i],a=null===o.match(/^\d+$/);if(a&&se(e)){if(0===i&&u>0)break;u+=1,t=t.slice(i),e=j(e,function(n,e){var u=r(e,t);return void 0!==u&&n.push(u),n},[]);break}if(e=z(e,o),void 0===e)break}return e}var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=0;return e.meta=e.meta||!1,n=$(ne,i(n))?n:r(n,t.split(".")),e.meta?{result:n,depth:u}:n}function V(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.preserveMissingValues=e.preserveMissingValues||!1;var u=r.split("."),i=u[0],o=1===u.length||u.slice(1).join("."),a=null!==i.match(/^\d+$/),s=u.length>1,f=void 0,c=void 0;try{se(n)?a?(f=z(n,Number(i)),s&&(f=V(f,o,e)),f=[f]):(f=[],O(n,function(n){c=V(n,r,e),e.preserveMissingValues?(void 0===c&&(c=oe),f.push(c)):void 0!==c&&f.push(c)})):(c=z(n,i),s&&(c=V(c,o,e)),t(void 0!==c),f={},f[i]=c)}catch(l){f=void 0}return f}function Y(n){if(se(n))for(var t=n.length-1;t>=0;t--)n[t]===oe?n.splice(t,1):Y(n[t]);else if(f(n))for(var r in n)n.hasOwnProperty(r)&&Y(n[r]);return n}function J(n,t,r){var e=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=t.split("."),i=u[0],o=1===u.length||u.slice(1).join(".");1===u.length?r(n,i):(e===!0&&p(n[i])&&(n[i]={}),J(n[i],o,r,e))}function H(n,t,r){J(n,t,function(n,t){n[t]=r},!0)}function Q(n,t){J(n,t,function(n,t){se(n)&&/^\d+$/.test(t)?n.splice(parseInt(t),1):f(n)&&delete n[t]})}function G(n){return!!n&&"$"===n[0]}function K(n){if($(ne,i(n)))return v(n)?{$regex:n}:{$eq:n};if(c(n)){var t=fe(n);if(!t.some(G))return{$eq:n};if($(t,"$regex")){var r=n.$regex,e=n.$options||"",u="";a(r)&&(u+=r.ignoreCase||e.indexOf("i")>=0?"i":"",u+=r.multiline||e.indexOf("m")>=0?"m":"",u+=r.global||e.indexOf("g")>=0?"g":"",r=new RegExp(r,u)),n.$regex=r,delete n.$options}}return n}function W(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return p(e)?r<0?(r=Math.max(0,n.length+r),e=n.length-r+1):(e=r,r=0):(r<0&&(r=Math.max(0,n.length+r)),t(e>0,"Invalid argument value for $slice operator. Limit must be a positive number"),e+=r),n.slice(r,e)}function X(n,t){var r=j(n,function(n,t){return n+t},0),e=n.length||1,u=t&&1||0,i=r/e;return Math.sqrt(j(n,function(n,t){return n+Math.pow(t-i,2)},0)/(e-u))}function Z(){return{assert:t,clone:e,cloneDeep:r,each:O,err:k,hashCode:C,getType:u,has:x,includes:$.bind(null),isArray:se,isBoolean:o,isDate:l,isEmpty:b,isEqual:I,isFunction:h,isNil:p,isNull:d,isNumber:s,isObject:f,isRegExp:v,isString:a,isUndefined:g,keys:fe,reduce:j,resolve:B,resolveObj:V}}function nn(n){Object.assign(le,n||{})}function tn(){return le.key}function rn(){var n=Array.prototype.slice.call(arguments);return j(n,function(n,t){return R(n,fe(ou[t]))},[])}function en(n,r,e){if(x(ou[re],r))return ou[re][r](n,e);if(f(e)){var u={};return O(e,function(r,i){if(u[i]=en(n,i,e[i]),x(ou[re],i))return u=u[i],t(1===fe(e).length,"Invalid $group expression '"+JSON.stringify(e)+"'"),!1}),u}}function un(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(u.root=u.root||n,x(ou[te],e))return ou[te][e](n,r,u);if(x(ou[re],e))return n=un(n,r,null,u),t(se(n),e+" expression must resolve to an array"),ou[re][e](n,null,u);if(a(r)&&r.length>0&&"$"===r[0]){if($(pe,r))return ve[r](n,null,u);if($(de,r))return r;var o=pe.filter(function(n){return 0===r.indexOf(n+".")});return 1===o.length&&(o=o[0],"$$ROOT"===o&&(n=u.root),r=r.substr(o.length)),B(n,r.slice(1))}switch(i(r)){case Wr:return r.map(function(t){return un(n,t)});case Xr:var s={};return O(r,function(e,i){if(s[i]=un(n,e,i,u),[te,re].some(function(n){return x(ou[n],i)}))return t(1===fe(r).length,"Invalid aggregation expression '"+JSON.stringify(r)+"'"),s=s[i],!1}),s;default:return r}}function on(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.root=r.root||n;var e=un(n,t,null,r);return $(de,e)?he[e](n,t,r):e}function an(n,t){var r=un(n,t);return null===r||void 0===r?null:Math.abs(r)}function sn(n,r){var e=un(n,r),u=!1,i=j(e,function(n,r){return l(r)&&(t(!u,"'$add' can only have one date value"),u=!0,r=r.getTime()),n+=r},0);return u?new Date(i):i}function fn(n,r){var e=un(n,r);return p(e)?null:(t(s(e)||isNaN(e),"$ceil expression must resolve to a number."),Math.ceil(e))}function cn(n,t){var r=un(n,t);return r[0]/r[1]}function ln(n,r){var e=un(n,r);return p(e)?null:(t(s(e)||isNaN(e),"$exp expression must resolve to a number."),Math.exp(e))}function vn(n,r){var e=un(n,r);return p(e)?null:(t(s(e)||isNaN(e),"$floor expression must resolve to a number."),Math.floor(e))}function hn(n,r){var e=un(n,r);return p(e)?null:(t(s(e)||isNaN(e),"$ln expression must resolve to a number."),Math.log(e))}function pn(n,r){var e=un(n,r),u="$log expression must resolve to array(2) of numbers";return t(se(e)&&2===e.length,u),e.some(p)?null:(t(e.some(isNaN)||e.every(s),u),Math.log10(e[0])/Math.log10(e[1]))}function dn(n,r){var e=un(n,r);return p(e)?null:(t(s(e)||isNaN(e),"$log10 expression must resolve to a number."),Math.log10(e))}function gn(n,t){var r=un(n,t);return r[0]%r[1]}function $n(n,t){var r=un(n,t);return j(r,function(n,t){return n*t},1)}function mn(n,r){var e=un(n,r);return t(se(e)&&2===e.length&&e.every(s),"$pow expression must resolve to array(2) of numbers"),t(!(0===e[0]&&e[1]<0),"$pow cannot raise 0 to a negative exponent"),Math.pow(e[0],e[1])}function yn(n,r){var e=un(n,r),u=e[0],i=e[1];return p(u)||isNaN(u)||Math.abs(u)===1/0?u:(t(s(u),"$round expression must resolve to a number."),kn(u,i,!0))}function bn(n,r){var e=un(n,r);return p(e)?null:(t(s(e)&&e>0||isNaN(e),"$sqrt expression must resolve to non-negative number."),Math.sqrt(e))}function _n(n,t){var r=un(n,t);return r[0]-r[1]}function xn(n,r){var e=un(n,r),u=e[0],i=e[1];return p(u)||isNaN(u)||Math.abs(u)===1/0?u:(t(s(u),"$trunc expression must resolve to a number."),t(p(i)||s(i)&&i>-20&&i<100,"$trunc expression has invalid place"),kn(u,i,!1))}function kn(n,t,r){t=t||0;var e=Math.abs(n)===n?1:-1;n=Math.abs(n);var u=Math.trunc(n),i=n-u;if(0===t){var o=Math.trunc(10*i);r&&1===(1&u)&&o>=5&&u++}else if(t>0){var a=Math.pow(10,t),s=Math.trunc(i*a),f=Math.trunc(i*a*10)%10;r&&f>5&&(s+=1),u+=s/a}else if(t<0){var c=Math.pow(10,-1*t),l=u%c;if(u=Math.max(0,u-l),r&&e===-1){for(;l>10;)l-=l%10;u>0&&l>=5&&(u+=c)}}return u*e}function On(n,r){var e=un(n,r);t(se(e)&&2===e.length,"$arrayElemAt expression must resolve to array(2)"),t(se(e[0]),"First operand to $arrayElemAt must resolve to an array"),t(s(e[1]),"Second operand to $arrayElemAt must resolve to an integer");var u=e[1];return e=e[0],u<0&&Math.abs(u)<=e.length?e[u+e.length]:u>=0&&u<e.length?e[u]:void 0}function wn(n,r){var e=un(n,r);return t(se(e),"$arrayToObject expression must resolve to an array"),j(e,function(n,r){return se(r)&&2==r.length?n[r[0]]=r[1]:(t(f(r)&&x(r,"k")&&x(r,"v"),"$arrayToObject expression is invalid."),n[r.k]=r.v),n},{})}function Mn(n,r){var e=un(n,r,null);return t(se(e),"$concatArrays must resolve to an array"),e.some(p)?null:e.reduce(function(n,t){return R(n,t)},[])}function jn(n,r){var e=un(n,r.input),u=r.as,i=r.cond;return t(se(e),"$filter 'input' expression must resolve to an array"),e.filter(function(n){var t={};return t["$"+u]=n,un(t,i)===!0})}function An(n,r){var e=un(n,r[0]),u=un(n,r[1]);return t(se(u),"$in second argument must be an array"),u.some(I.bind(null,e))}function Nn(n,r){var e=un(n,r);if(p(e))return null;var u=e[0],i=e[1];if(p(u))return null;t(se(u),"$indexOfArray expression must resolve to an array.");var o=e[2]||0,a=e[3];return p(a)&&(a=u.length),o>a?-1:(t(o>=0&&a>=0,"$indexOfArray expression is invalid"),(o>0||a<u.length)&&(u=u.slice(o,a)),u.findIndex(I.bind(null,i))+o)}function En(n,t){return se(un(n,t[0]))}function Sn(n,r){var e=un(n,r.input);t(se(e),"$map 'input' expression must resolve to an array");var u=r.as,i=r["in"],o="$"+u;return e.map(function(t){return n[o]=t,un(n,i)})}function In(n,r){var e=un(n,r);t(f(e),"$objectToArray expression must resolve to an object");var u=[];return O(e,function(n,t){return u.push({k:t,v:n})}),u}function Pn(n,t){for(var r=un(n,t),e=r[0],u=r[1],i=r[2]||1,o=[];e<u&&i>0||e>u&&i<0;)o.push(e),e+=i;return o}function Tn(n,r){var e=un(n,r.input),u=un(n,r.initialValue),i=r["in"];return p(e)?null:(t(se(e),"$reduce 'input' expression must resolve to an array"),j(e,function(n,t){return un({$value:n,$this:t},i)},u))}function Cn(n,r){var e=un(n,r);if(p(e))return null;t(se(e),"$reverseArray expression must resolve to an array");var u=[];return R(u,e),u.reverse(),u}function qn(n,t){var r=un(n,t);return se(r)?r.length:void 0}function Fn(n,t){var r=un(n,t);return W(r[0],r[1],r[2])}function Ln(n,r){var e=un(n,r.inputs),u=r.useLongestLength||!1;t(se(e),"'inputs' expression must resolve to an array"),t(o(u),"'useLongestLength' must be a boolean"),se(r.defaults)&&t(y(u),"'useLongestLength' must be set to true to use 'defaults'");for(var i=0,a=0,s=e.length;a<s;a++){var f=e[a];if(p(f))return null;t(se(f),"'inputs' expression values must resolve to an array or null"),i=u?Math.max(i,f.length):Math.min(i||f.length,f.length)}for(var c=[],l=r.defaults||[],v=function(n){var t=e.map(function(t,r){return p(t[n])?l[r]||null:t[n]});c.push(t)},h=0;h<i;h++)v(h);return c}function Rn(n,t){var r=un(n,t);return se(r)?j(r,function(n,t){return Object.assign(n,t)},{}):{}}function Dn(n,t){var r=un(n,t);return y(r)&&r.every(y)}function Un(n,t){var r=un(n,t);return y(r)&&r.some(y)}function zn(n,t){return!un(n,t[0])}function Bn(n){return n instanceof we?n:new we(n)}function Vn(n){return!!n&&"object"===("undefined"==typeof n?"undefined":ge(n))&&Yn(n.next)}function Yn(n){return!!n&&"function"==typeof n}function Jn(n,t){var r=n.slice(t+1);n.splice(t),Array.prototype.push.apply(n,r)}function Hn(n,t,r){var e=!1,u=-1,i={},o=0;return function(a){a=a===r;try{n:for(;!e;){var s=n();u++;for(var f=-1,c=t.length,l=!1;++f<c;){var v=t[f],h=v.func,p=v.type;switch(p){case _e:s=h(s,u);break;case xe:if(!h(s,u))continue n;break;case ke:--v.func,v.func||(l=!0);break;case Oe:--v.func,v.func||Jn(t,f);continue n;default:break n}}if(e=l,!a)return{value:s,done:!1};r[o++]=s}}catch(d){if(d!==be)throw d}return i=null,e=!0,{done:!0}}}function Qn(n,r,e){return t(se(r),"Aggregation pipeline must be an array"),new Me(r,e).run(n)}function Gn(n,t,r){return new Ae(t).find(n,r)}function Kn(n,t){return new Ae(t).remove(n)}function Wn(n,t){if(I(n,t))return!0;if(p(n)&&p(t))return!0;if(se(n)){var r=I.bind(null,t);return n.some(r)||E(n,1).some(r)}return!1}function Xn(n,t){return!Wn(n,t)}function Zn(n,t){return p(n)?t.some(d):A(_(n),t).length>0}function nt(n,t){return!Zn(n,t)}function tt(n,t){return vt(n,t,function(n,t){return n<t})}function rt(n,t){return vt(n,t,function(n,t){return n<=t})}function et(n,t){return vt(n,t,function(n,t){return n>t})}function ut(n,t){return vt(n,t,function(n,t){return n>=t})}function it(n,t){return _(n).some(function(n){return s(n)&&se(t)&&2===t.length&&n%t[0]===t[1]})}function ot(n,t){n=_(n);var r=function(n){return a(n)&&!!n.match(t)};return n.some(r)||E(n,1).some(r)}function at(n,t){return(t===!1||0===t)&&void 0===n||(t===!0||1===t)&&void 0!==n}function st(n,t){var r=!1;if(se(n)&&se(t))for(var e=0,u=t.length;e<u;e++){if(!f(t[e])||!$(fe(t[e]),"$elemMatch"))return A(t,n).length===u;r=r||ct(n,t[e].$elemMatch)}return r}function ft(n,t){return se(n)&&s(t)&&n.length===t}function ct(n,t){if(se(n)&&!b(n)){var r=function(n){return n},e=t;fe(t).every(G)&&(e={temp:t},r=function(n){return{temp:n}});for(var u=new Ae(e),i=0,o=n.length;i<o;i++)if(u.test(r(n[i])))return!0}return!1}function lt(n,t){switch(t){case 1:case"double":return s(n)&&(n+"").indexOf(".")!==-1;case 2:case Hr:return a(n);case 3:case Xr:return f(n);case 4:case Wr:return se(n);case 6:case Br:return p(n);case 8:case Vr:return o(n);case 9:case Qr:return l(n);case 10:case zr:return d(n);case 11:case Gr:return v(n);case 16:case"int":return s(n)&&n<=2147483647&&(n+"").indexOf(".")===-1;case 18:case"long":return s(n)&&n>2147483647&&n<=0x8000000000000000&&(n+"").indexOf(".")===-1;case 19:case"decimal":return s(n);default:return!1}}function vt(n,t,r){return _(n).some(function(n){return u(n)===u(t)&&r(n,t)})}function ht(n){return function(t,r){var e=un(t,r);return n(e[0],e[1])}}function pt(n,t){var r=un(n,t);return r[0]>r[1]?1:r[0]<r[1]?-1:0}function dt(n,r){var e=void 0,u=void 0,i=void 0,o="$cond: invalid arguments";se(r)?(t(3===r.length,o),e=r[0],u=r[1],i=r[2]):(t(f(r),o),e=r["if"],u=r.then,i=r["else"]);var a=un(n,e);return a?un(n,u):un(n,i)}function gt(n,r){var e="Invalid arguments for $switch operator";t(r.branches,e);var u=r.branches.find(function(r){return t(r["case"]&&r.then,e),un(n,r["case"])});return u?un(n,u.then):(t(r["default"],e),un(n,r["default"]))}function $t(n,r){t(se(r)&&2===r.length,"$ifNull expression must resolve to array(2)");var e=un(n,r);return p(e[0])?e[1]:e[0]}function mt(n,t){var r=un(n,t),e=new Date(r.getFullYear(),0,0),u=r-e,i=864e5;return Math.round(u/i)}function yt(n,t){var r=un(n,t);return r.getDate()}function bt(n,t){var r=un(n,t);return r.getDay()+1}function _t(n,t){var r=un(n,t);return r.getFullYear()}function xt(n,t){var r=un(n,t);return r.getMonth()+1}function kt(n,t){var r=un(n,t);r=new Date((+r)),r.setHours(0,0,0),r.setDate(r.getDate()+4-(r.getDay()||7));var e=new Date(r.getFullYear(),0,1);return Math.floor(((r-e)/864e5+1)/7)}function Ot(n,t){var r=un(n,t);return r.getUTCHours()}function wt(n,t){var r=un(n,t);return r.getMinutes()}function Mt(n,t){var r=un(n,t);return r.getSeconds()}function jt(n,t){var r=un(n,t);return r.getMilliseconds()}function At(n,t){for(var r=t.format,e=un(n,t.date),u=r.match(/(%%|%Y|%m|%d|%H|%M|%S|%L|%j|%w|%U)/g),i=0,o=u.length;i<o;i++){var a=qe[u[i]],s=a;if(se(a)){var f=a[0],c=a[1];s=Nt(f(n,e),c)}r=r.replace(u[i],s)}return r}function Nt(n,t){return new Array(Math.max(t-String(n).length+1,0)).join("0")+n}function Et(n,t){return t}function St(n,t){var r=un(n,t),e=P(r[0]),u=P(r[1]);return e.length===u.length&&e.length===A(e,u).length}function It(n,t){var r=un(n,t);return A(r[0],r[1])}function Pt(n,t){var r=un(n,t);return r[0].filter(m.bind(null,r[1]))}function Tt(n,t){var r=un(n,t);return N(r[0],r[1])}function Ct(n,t){var r=un(n,t);return A(r[0],r[1]).length===r[0].length}function qt(n,t){var r=un(n,t)[0];return r.some(y)}function Ft(n,t){var r=un(n,t)[0];return r.every(y)}function Lt(n,t){var r=un(n,t);return[null,void 0].some($.bind(null,r))?null:r.join("")}function Rt(n,r){var e=un(n,r),u="$indexOfBytes expression resolves to invalid an argument";if(p(e[0]))return null;t(a(e[0])&&a(e[1]),u);var i=e[0],o=e[1],f=e[2],c=e[3],l=p(f)||s(f)&&f>=0&&Math.round(f)===f;if(l=l&&(p(c)||s(c)&&c>=0&&Math.round(c)===c),t(l,u),f=f||0,c=c||i.length,f>c)return-1;var v=i.substring(f,c).indexOf(o);return v>-1?v+f:v}function Dt(n,r){var e=un(n,r);return p(e[0])?null:(t(e.every(a),"$split expression must result to array(2) of strings"),e[0].split(e[1]))}function Ut(n,t){return~-encodeURI(un(n,t)).split(/%..|./).length}function zt(n,t){return un(n,t).length}function Bt(n,r){var e=un(n,r),u=e[0],i=e[1];return I(u,i)||e.every(p)?0:(t(e.every(a),"$strcasecmp must resolve to array(2) of strings"),u=u.toUpperCase(),i=i.toUpperCase(),u>i&&1||u<i&&-1||0)}function Vt(n,r){var e=un(n,r),u=e[0],i=e[1],o=e[2];t(a(u)&&s(i)&&i>=0&&s(o)&&o>=0,"$substrBytes: invalid arguments");for(var f=Kt(u),c=[],l=0,v=0;v<f.length;v++)c.push(l),l+=f[v].length;var h=c.indexOf(i),p=c.indexOf(i+o);return t(h>-1&&p>-1,"$substrBytes: invalid range, start or end index is a UTF-8 continuation byte."),u.substring(h,p)}function Yt(n,t){var r=un(n,t),e=r[0],u=r[1],i=r[2];return a(e)?u<0?"":i<0?e.substr(u):e.substr(u,i):""}function Jt(n,t){return Yt(n,t)}function Ht(n,t){var r=un(n,t);return b(r)?"":r.toLowerCase()}function Qt(n,t){var r=un(n,t);return b(r)?"":r.toUpperCase()}function Gt(n){if(n<128)return[n];for(var t=n<2048&&1||n<65536&&2||3,r=Fe[t-1],e=[(n>>6*t)+r];t>0;)e.push(128|n>>6*--t&63);return e}function Kt(n){for(var t=[],r=0,e=n.length;r<e;r++)t.push(Gt(n.codePointAt(r)));return t}function Wt(n,t){var r=t.vars,e=t["in"],u=fe(r);return O(u,function(t){var e=un(n,r[t]),u="$"+t;n[u]=e}),un(n,e)}function Xt(n,t){return p(t)?n:n.map(function(n){return un(n,t)})}function Zt(n,t){return P(Xt(n,t))}function nr(n,t){var r=Xt(n,t).filter(s),e=j(r,function(n,t){return n+t},0);return e/(r.length||1)}function tr(n,t){return n.length>0?un(n[0],t):void 0}function rr(n,t){return n.length>0?un(n[n.length-1],t):void 0}function er(n,t){return j(Xt(n,t),function(n,t){return p(n)||t>n?t:n},void 0)}function ur(n,t){return j(n,function(n,r){return Object.assign(n,un(r,t))},{})}function ir(n,t){return j(Xt(n,t),function(n,t){return p(n)||t<n?t:n},void 0)}function or(n,t){return X(Xt(n,t).filter(s),!1)}function ar(n,t){return X(Xt(n,t).filter(s),!0)}function sr(n,t){return se(n)?s(t)?n.length*t:j(Xt(n,t).filter(s),function(n,t){return n+t},0):0}function fr(n,t,e){var u=fe(t);return 0===u.length?n:n.map(function(n){var e=r(n);return O(u,function(r){var u=un(n,t[r]);H(e,r,u)}),e})}function cr(n,r,e){var i=r.boundaries,o=r["default"],a=i[0],s=i[i.length-1],f=r.output||{count:{$sum:1}};t(i.length>2,"$bucket 'boundaries' expression must have at least 3 elements");for(var c=u(a),l=0,v=i.length-1;l<v;l++)t(c===u(i[l+1]),"$bucket 'boundaries' must all be of the same type"),t(i[l]<i[l+1],"$bucket 'boundaries' must be sorted in ascending order");!p(o)&&u(r["default"])===u(a)&&t(a>r["default"]||s<r["default"],"$bucket 'default' expression must be out of boundaries range");var h={};O(i,function(n){return h[n]=[]}),p(o)||(h[o]=[]);var d=!1;return Bn(function(){return d||(n.each(function(n){var e=un(n,r.groupBy);if(p(e)||e<a||e>=s)t(!p(o),"$bucket require a default for out of range values"),h[o].push(n);else{t(e>=a&&e<s,"$bucket 'groupBy' expression must resolve to a value in range of boundaries");var u=D(i,e),f=i[Math.max(0,u-1)];h[f].push(n)}}),i.pop(),p(o)||i.push(o),d=Bn(i).map(function(n){var t=en(h[n],null,f);return Object.assign(t,{_id:n})})),d.next()})}function lr(n,r,e){var u=r.output||{count:{$sum:1}},i=r.groupBy,o=r.buckets;return t(o>0,"The $bucketAuto 'buckets' field must be greater than 0, but found: "+o),n.transform(function(n){for(var t=Math.max(1,Math.round(n.length/o)),r=U(un),e={},a=[],s=F(n,function(n){var t=r(n,i);return p(t)?a.push(n):(e[t]||(e[t]=[]),e[t].push(n)),t}),f=tn(),c=[],l=0,v=0,h=s.length;v<o&&l<h;v++){for(var d={},g=[],$=0;$<t&&l<h;$++){var m=r(s[l],i);if(p(m)&&(m=null),R(g,p(m)?a:e[m]),l+=p(m)?a.length:e[m].length,x(d,"min")||(d.min=m),c.length>0){var y=c[c.length-1];y[f].max=d.min}}v==o-1&&R(g,s.slice(l)),c.push(Object.assign(en(g,null,u),{_id:d}))}return c.length>0&&(c[c.length-1][f].max=r(s[s.length-1],i)),c})}function vr(n,r,e){return t(a(r)&&""!==r.trim()&&r.indexOf(".")===-1&&"$"!==r.trim()[0],"Invalid expression value for $count"),Bn(function(){var t={};return t[r]=n.size(),{value:t,done:!1}}).first()}function hr(n,t,r){return n.transform(function(n){return[w(t,function(t){return Qn(n,t)})]})}function pr(n,t,r){var u=tn(),i=t[u];return n.transform(function(n){var r=L(n,function(n){return un(n,i,i)});t=e(t),delete t[u];var o=-1,a=r.keys.length;return function(){if(++o===a)return{done:!0};var n=r.keys[o],e={};return void 0!==n&&(e[u]=n),O(t,function(n,t){e[t]=en(r.groups[o],t,n)}),{value:e,done:!1}}})}function dr(n,t,r){return n.take(t)}function gr(n,r,u){var i=r.from,o=r.localField,s=r.foreignField,f=r.as;t(se(i)&&a(s)&&a(o)&&a(f),"$lookup: invalid argument");var c={};return O(i,function(n){var t=C(B(n,s));c[t]=c[t]||[],c[t].push(n)}),n.map(function(n){var t=C(B(n,o)),r=e(n);return r[f]=c[t]||[],r})}function $r(n,t,r){var e=new Ae(t);return n.filter(function(n){return e.test(n)})}function mr(n,r,e){return t(se(r),"$out expression must be an array"),n.map(function(n){return r.push(n),n})}function yr(n,r,e){if(b(r))return n;var u=fe(r),i=!1,o=tn();if(_r(r),$(u,o)){var a=r[o];0!==a&&a!==!1||(u=u.filter(m.bind(null,[o])),t(m(u,o),"Must not contain collections id key"),i=b(u))}else u.push(o);return n.map(function(n){return br(n,r,u,i)})}function br(n,t,e,u){var i=tn(),o={},c=!1,l=!1,v=[];return u&&v.push(i),e.forEach(function(r){var e=void 0,u=t[r];if(r!==i&&$([0,!1],u)&&(l=!0),r===i&&b(u))e=n[r];else if(a(u))e=un(n,u,r);else if($([1,!0],u));else if(se(u))e=u.map(function(t){var r=un(n,t);return p(r)?null:r});else{if(!f(u))return void v.push(r);var h=fe(u),d=!(h.length>1)&&h[0];if($(rn(ue),d)){var g=ou[ue];"$slice"===d?_(u[d]).every(s)?(e=g[d](n,u[d],r),c=!0):e=un(n,u,r):e=g[d](n,u[d],r)}else if(x(n,r)){_r(u);var y=n[r];e=se(y)?y.map(function(n){return br(n,u,h,!1)}):br(y,u,h,!1)}else e=un(n,u,r)}var k=V(n,r,{preserveMissingValues:!0});void 0!==k&&M(o,k,{flatten:!0}),m([0,1,!1,!0],u)&&(void 0===e?Q(o,r):H(o,r,e))}),Y(o),(c||l||u)&&(o=Object.assign({},n,o),v.length>0&&(o=r(o),O(v,function(n){return Q(o,n)}))),o}function _r(n){var r=tn(),e=[!1,!1];O(n,function(n,u){u!==r&&(0===n||n===!1?e[0]=!0:1!==n&&n!==!0||(e[1]=!0),t(!(e[0]&&e[1]),"Projection cannot have a mix of inclusion and exclusion."))})}function xr(n,t,e){return n.map(function(n){return on(r(n),t)})}function kr(n,r,e){return n.map(function(n){return n=un(n,r.newRoot),t(f(n),"$replaceRoot expression must return an object"),n})}function Or(n,r,e){var u=r.size;return t(s(u),"$sample size must be a positive integer"),n.transform(function(n){var t=n.length,r=-1;return function(){if(++r===u)return{done:!0};var e=Math.floor(Math.random()*t);return{value:n[e],done:!1}}})}function wr(n,t,r){return n.drop(t)}function Mr(n,t,r){if(b(t)||!f(t))return n;r=r||{};var e=q,u=r.collation;return f(u)&&a(u.locale)&&(e=jr(u)),n.transform(function(n){var r=fe(t);return O(r.reverse(),function(r){var u=L(n,function(n){return B(n,r)}),i={},o=F(u.keys,function(n,t){return i[n]=t,n},e);t[r]===-1&&o.reverse(),n=[],O(o,function(t){return R(n,u.groups[i[t]])})}),n})}function jr(n){var t={sensitivity:Ue[n.strength||3],caseFirst:"off"===n.caseFirst?"false":n.caseFirst||"false",numeric:n.numericOrdering||!1,ignorePunctuation:"shifted"===n.alternate};(n.caseLevel||!1)===!0&&("base"===t.sensitivity&&(t.sensitivity="case"),"accent"===t.sensitivity&&(t.sensitivity="variant"));var r=new Intl.Collator(n.locale,t);return function(n,t){if(!a(n)||!a(t))return q(n,t);var e=r.compare(n,t);return e<0?-1:e>0?1:0}}function Ar(n,t,r){var e={count:{$sum:1}};return e[tn()]=t,Mr(pr(n,e),{count:-1},r)}function Nr(n,t,e){a(t)&&(t={path:t});var u=t.path.substr(1),i=t.includeArrayIndex||!1,o=t.preserveNullAndEmptyArrays||!1,s=function(n,t){return i!==!1&&(n[i]=t),n},f=void 0;return Bn(function(){for(var t=function(){if(Bn.isIterator(f)){var t=f.next();if(!t.done)return{v:t}}var e=n.next();if(e.done)return{v:e};if(e=e.value,f=B(e,u),se(f)){if(0===f.length&&o===!0){f=null;var i=r(e);return Q(i,u),{v:{value:s(i,null),done:!1}}}f=Bn(f).map(function(n,t){var i=r(e);return H(i,u,n),s(i,t)})}else if(!b(f)||o===!0){var a=r(e);return{v:{value:s(a,null),done:!1}}}};;){var e=t();if("object"===("undefined"==typeof e?"undefined":ge(e)))return e.v}})}function Er(n,t,r){k("$ not implemented")}function Sr(n,r,e){var u=B(n,e),i=new Ae(r);t(se(u),"$elemMatch: invalid argument");for(var o=0;o<u.length;o++)if(i.test(u[o]))return[u[o]]}function Ir(n,r,e){var u=B(n,e);return se(u)?se(r)?W(u,r[0],r[1]):(t(s(r),"$slice: invalid arguments for projection"),W(u,r)):u}function Pr(n){return function(t,r){return function(e){var u=B(e,t,{meta:!0});return u=S(u.result,u.depth),n(u,r)}}}function Tr(n,r){t(se(r),"Invalid expression: $and expects value to be an Array");var e=[];return O(r,function(n){return e.push(new Ae(n))}),function(n){for(var t=0;t<e.length;t++)if(!e[t].test(n))return!1;return!0}}function Cr(n,r){t(se(r),"Invalid expression. $or expects value to be an Array");var e=[];return O(r,function(n){return e.push(new Ae(n))}),function(n){for(var t=0;t<e.length;t++)if(e[t].test(n))return!0;return!1}}function qr(n,r){t(se(r),"Invalid expression. $nor expects value to be an Array");var e=Cr("$or",r);return function(n){return!e(n)}}function Fr(n,t){var r={};r[n]=K(t);var e=new Ae(r);return function(n){return!e.test(n)}}function Lr(n,t){return h(t)||(t=new Function("return "+t+";")),function(n){return t.call(n)===!0}}function Rr(n,t){return function(n){return un(n,t)}}function Dr(){O(au,function(n){var t=ye(n,2),r=t[0],e=t[1];Object.assign(ou[r],e)})}function Ur(n,r){var e=r(ce());t(x(ou,n),"Invalid operator class "+n);var u=ou[n];O(e,function(r,e){t(/^\$[a-zA-Z0-9_]*$/.test(e),"Invalid operator name "+e),t(!x(u,e),e+" already exists for '"+n+"' operators")});var i={};switch(n){case ie:O(e,function(n,r){n=n.bind(e),i[r]=function(e,u){return function(i){var a=B(i,e),s=n(e,a,u);return t(o(s),r+" must return a boolean"),s}}});break;case ue:O(e,function(n,t){n=n.bind(e),i[t]=function(t,r,e){var u=B(t,e);return n(e,u,r)}});break;default:O(e,function(n,t){i[t]=function(){for(var t=arguments.length,r=Array(t),u=0;u<t;u++)r[u]=arguments[u];return n.apply(e,r)}})}Object.assign(ou[n],i)}var zr="null",Br="undefined",Vr="bool",Yr="boolean",Jr="number",Hr="string",Qr="date",Gr="regex",Kr="regexp",Wr="array",Xr="object",Zr="function",ne=[zr,Br,Yr,Jr,Hr,Qr,Kr],te="expression",re="group",ee="pipeline",ue="projection",ie="query",oe=function(){};Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(n,t){function r(n,t){return n===t||"number"==typeof n&&"number"==typeof t&&isNaN(n)&&isNaN(t)}if(null==this)throw new TypeError('"this" is null or not defined');var e=Object(this),u=e.length>>>0;if(0===u)return!1;for(var i=0|t,o=Math.max(i>=0?i:u-Math.abs(i),0);o<u;){if(r(e[o],n))return!0;o++}return!1}});var ae=Array.prototype.push,se=Array.isArray||function(n){return!!n&&n.constructor===Array},fe=Object.keys,ce=function(){return Object.assign({computeValue:un,ops:rn},Z())},le={key:"_id"},ve={$$ROOT:function(n,t,r){return r.root},$$CURRENT:function(n,t,r){return n},$$REMOVE:function(n,t,r){}},he={$$KEEP:function(n){return n},$$PRUNE:function(){},$$DESCEND:function(n,t,r){if(!x(t,"$cond"))return n;var e=void 0;return O(n,function(u,i){c(u)&&(se(u)?(e=[],O(u,function(n){f(n)&&(n=on(n,t,r)),p(n)||e.push(n)})):e=on(u,t,r),p(e)?delete n[i]:n[i]=e)}),n}},pe=fe(ve),de=fe(he),ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$e=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")},me=function(){function n(n,t){for(var r=0;r<t.length;r++){var e=t[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(t,r,e){return r&&n(t.prototype,r),e&&n(t,e),t}}(),ye=function(){function n(n,t){var r=[],e=!0,u=!1,i=void 0;try{for(var o,a=n[Symbol.iterator]();!(e=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);e=!0);}catch(s){u=!0,i=s}finally{try{!e&&a["return"]&&a["return"]()}finally{if(u)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return n(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Bn.isIterator=Vn;var be=new Error,_e=1,xe=2,ke=3,Oe=4,we=function(){function n(t){if($e(this,n),this.__iteratees=[],this.__first=!1,this.__done=!1,this.__buf=[],Yn(t)&&(t={next:t}),Vn(t)){var r=t;t=function(){var n=r.next();if(n.done)throw be;return n.value}}else if(Array.isArray(t)){var e=t,u=e.length,i=0;t=function(){if(i<u)return e[i++];throw be}}else if(!Yn(t))throw new Error("Source is not iterable. Must be Array, Function or Object{next:Function}");this.next=Hn(t,this.__iteratees,this.__buf)}return me(n,[{key:"_validate",value:function(){if(this.__first)throw new Error("Cannot add iteratee/transform after `first()`")}},{key:"_push",
value:function(n){return this._validate(),this.__iteratees.push(n),this}},{key:"map",value:function(n){return this._push({type:_e,func:n})}},{key:"filter",value:function(n){return this._push({type:xe,func:n})}},{key:"take",value:function(n){return n>0?this._push({type:ke,func:n}):this}},{key:"drop",value:function(n){return n>0?this._push({type:Oe,func:n}):this}},{key:"transform",value:function(n){this._validate();var t=this,r=void 0;return Bn(function(){return r||(r=Bn(n(t.value()))),r.next()})}},{key:"first",value:function(){return this.take(1),this.__first=!0,this}},{key:"value",value:function(){return this.__done||(this.__done=this.next(this.__buf).done),this.__first?this.__buf[0]:this.__buf}},{key:"each",value:function(n){for(;;){var t=this.next();if(t.done)break;if(n(t.value)===!1)return!1}return!0}},{key:"reduce",value:function(n,t){var r=this.next(),e=0;for(void 0!==t||r.done||(t=r.value,r=this.next(),e++);!r.done;)t=n(t,r.value,e++),r=this.next();return t}},{key:"size",value:function(){return this.reduce(function(n,t){return++n},0)}}]),n}();"function"==typeof Symbol&&(we.prototype[Symbol.iterator]=function(){return this});var Me=function(){function n(t,r){$e(this,n),this.__operators=t,this.__options=r}return me(n,[{key:"stream",value:function(n,r){var e=this;n=Bn(n);var u=ou[ee];return b(this.__operators)||O(this.__operators,function(i){var o=fe(i);t(1===o.length&&$(rn(ee),o[0]),"invalid aggregation operator "+o),o=o[0],n=r&&r instanceof Ae?u[o].call(r,n,i[o],e.__options):u[o](n,i[o],e.__options)}),n}},{key:"run",value:function(n,t){return this.stream(n,t).value()}}]),n}(),je=function(){function n(t,r,e){$e(this,n),this.__filterFn=r.test.bind(r),this.__query=r,this.__source=t,this.__projection=e||r.__projection,this.__operators=[],this.__result=null,this.__stack=[],this.__options={}}return me(n,[{key:"_fetch",value:function(){return this.__result?this.__result:(f(this.__projection)&&this.__operators.push({$project:this.__projection}),this.__result=Bn(this.__source).filter(this.__filterFn),this.__operators.length>0&&(this.__result=new Me(this.__operators,this.__options).stream(this.__result,this.__query)),this.__result)}},{key:"all",value:function(){return this._fetch().value()}},{key:"count",value:function(){return this.all().length}},{key:"skip",value:function(n){return this.__operators.push({$skip:n}),this}},{key:"limit",value:function(n){return this.__operators.push({$limit:n}),this}},{key:"sort",value:function(n){return this.__operators.push({$sort:n}),this}},{key:"collation",value:function(n){return this.__options.collation=n,this}},{key:"next",value:function(){if(this.__stack){if(this.__stack.length>0)return this.__stack.pop();var n=this._fetch().next();return n.done?void(this.__stack=null):n.value}}},{key:"hasNext",value:function(){if(!this.__stack)return!1;if(this.__stack.length>0)return!0;var n=this._fetch().next();return n.done?this.__stack=null:this.__stack.push(n.value),!!this.__stack}},{key:"map",value:function(n){return this._fetch().map(n).value()}},{key:"forEach",value:function(n){this._fetch().each(n)}}]),n}();"function"==typeof Symbol&&(je.prototype[Symbol.iterator]=function(){return this._fetch()});var Ae=function(){function n(t,r){$e(this,n),this.__criteria=t,this.__projection=r||{},this.__compiled=[],this._compile()}return me(n,[{key:"_compile",value:function(){var n=this;t(f(this.__criteria),"query criteria must be an object");var r=void 0;O(this.__criteria,function(e,u){"$where"===u?r={field:u,expr:e}:"$expr"===u?n._processOperator(u,u,e):$(["$and","$or","$nor"],u)?n._processOperator(u,u,e):(t(!G(u),"unknown top level operator: "+u),e=K(e),O(e,function(t,r){n._processOperator(u,r,t)})),f(r)&&n._processOperator(r.field,r.field,r.expr)})}},{key:"_processOperator",value:function(n,r,e){t(x(ou[ie],r),"invalid query operator "+r+" detected"),this.__compiled.push(ou[ie][r](n,e))}},{key:"test",value:function(n){for(var t=0,r=this.__compiled.length;t<r;t++)if(!this.__compiled[t](n))return!1;return!0}},{key:"find",value:function(n,t){return new je(n,this,t)}},{key:"remove",value:function(n){var t=this;return j(n,function(n,r){return t.test(r)||n.push(r),n},[])}}]),n}(),Ne=ht(Wn),Ee=ht(Xn),Se=ht(et),Ie=ht(tt),Pe=ht(ut),Te=ht(rt),Ce=ht(nt),qe={"%Y":[_t,4],"%m":[xt,2],"%d":[yt,2],"%H":[Ot,2],"%M":[wt,2],"%S":[Mt,2],"%L":[jt,3],"%j":[mt,3],"%w":[bt,1],"%U":[kt,2],"%%":"%"},Fe=[192,224,240],Le=Object.freeze({$abs:an,$add:sn,$ceil:fn,$divide:cn,$exp:ln,$floor:vn,$ln:hn,$log:pn,$log10:dn,$mod:gn,$multiply:$n,$pow:mn,$round:yn,$sqrt:bn,$subtract:_n,$trunc:xn,$arrayElemAt:On,$arrayToObject:wn,$concatArrays:Mn,$filter:jn,$in:An,$indexOfArray:Nn,$isArray:En,$map:Sn,$objectToArray:In,$range:Pn,$reduce:Tn,$reverseArray:Cn,$size:qn,$slice:Fn,$zip:Ln,$mergeObjects:Rn,$and:Dn,$or:Un,$not:zn,$eq:Ne,$ne:Ee,$gt:Se,$lt:Ie,$gte:Pe,$lte:Te,$nin:Ce,$cmp:pt,$cond:dt,$switch:gt,$ifNull:$t,$dayOfYear:mt,$dayOfMonth:yt,$dayOfWeek:bt,$year:_t,$month:xt,$week:kt,$hour:Ot,$minute:wt,$second:Mt,$millisecond:jt,$dateToString:At,$literal:Et,$setEquals:St,$setIntersection:It,$setDifference:Pt,$setUnion:Tt,$setIsSubset:Ct,$anyElementTrue:qt,$allElementsTrue:Ft,$concat:Lt,$indexOfBytes:Rt,$split:Dt,$strLenBytes:Ut,$strLenCP:zt,$strcasecmp:Bt,$substrBytes:Vt,$substr:Yt,$substrCP:Jt,$toLower:Ht,$toUpper:Qt,$let:Wt}),Re=Object.freeze({$addToSet:Zt,$avg:nr,$first:tr,$last:rr,$max:er,$mergeObjects:ur,$min:ir,$push:Xt,$stdDevPop:or,$stdDevSamp:ar,$sum:sr}),De=fr,Ue={1:"base",2:"accent",3:"variant"},ze=Object.freeze({$addFields:fr,$set:De,$bucket:cr,$bucketAuto:lr,$count:vr,$facet:hr,$group:pr,$limit:dr,$lookup:gr,$match:$r,$out:mr,$project:yr,$redact:xr,$replaceRoot:kr,$sample:Or,$skip:wr,$sort:Mr,$sortByCount:Ar,$unwind:Nr}),Be=Object.freeze({$:Er,$elemMatch:Sr,$slice:Ir}),Ve=Pr(st),Ye=Pr(ct),Je=Pr(Wn),He=Pr(at),Qe=Pr(et),Ge=Pr(ut),Ke=Pr(Zn),We=Pr(tt),Xe=Pr(rt),Ze=Pr(it),nu=Pr(Xn),tu=Pr(nt),ru=Pr(ot),eu=Pr(ft),uu=Pr(lt),iu=Object.freeze({$all:Ve,$elemMatch:Ye,$eq:Je,$exists:He,$gt:Qe,$gte:Ge,$in:Ke,$lt:We,$lte:Xe,$mod:Ze,$ne:nu,$nin:tu,$regex:ru,$size:eu,$type:uu,$and:Tr,$or:Cr,$nor:qr,$not:Fr,$where:Lr,$expr:Rr}),ou={};ou[te]={},ou[re]={},ou[ee]={},ou[ue]={},ou[ie]={};var au=[[te,Le],[re,Re],[ee,ze],[ue,Be],[ie,iu]],su={query:function(n,t){return new Ae(n).find(this.toJSON(),t)},aggregate:function(n){return new Me(n).run(this.toJSON())}};Dr();var fu="2.5.1";n.VERSION=fu,n.OP_EXPRESSION=te,n.OP_GROUP=re,n.OP_PIPELINE=ee,n.OP_PROJECTION=ue,n.OP_QUERY=ie,n._internal=ce,n.setup=nn,n.Query=Ae,n.find=Gn,n.remove=Kn,n.Aggregator=Me,n.aggregate=Qn,n.CollectionMixin=su,n.Cursor=je,n.addOperators=Ur,n.Lazy=Bn,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=dist/mingo.min.map
